<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TF2 Nieuws</title>
  </head>
  <body>
    <h1>Team Fortress 2 Nieuws</h1>
    <div id="news"></div>

    <script>
      // Fetch om data op te halen
      fetch(
        "http://api.steampowered.com/ISteamNews/GetNewsForApp/v2/?appid=440&count=5"
      )
        .then((response) => response.json())
        .then((data) => {
          // JSON manipuleren en weergeven
          const news = data.appnews.newsitems;
          const newsContainer = document.getElementById("news");

          // Iteration over een array en Arrow function
          news.forEach((article) => {
            const { title, url, author, contents, date } = article;
            const articleElement = document.createElement("div");
            articleElement.innerHTML = `
                        <h2>${title}</h2>
                        <p><strong>Auteur:</strong> ${author}</p>
                        <p><strong>Datum:</strong> ${new Date(
                          date * 1000
                        ).toLocaleString()}</p>
                        <p>${contents}</p>
                        <a href="${url}" target="_blank">Lees meer</a>
                    `;
            newsContainer.appendChild(articleElement);
          });
        })
        .catch((error) =>
          console.error("Fout bij het ophalen van nieuws:", error)
        );
    </script>
  </body>
</html>
